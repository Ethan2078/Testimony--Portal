(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1038:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(56),s=a.n(n),i=a(91),r=a.n(i),o=a(1),l=a.n(o),c=function(e){e.styles;var t=r()(e,["styles"]);return l.a.createElement("svg",s()({height:"23",viewBox:"0 0 24 23",width:"24",xmlns:"http://www.w3.org/2000/svg"},t),l.a.createElement("path",{d:"M23.97 8.721a.597.597 0 0 0-.507-.413l-7.744-.822-3.172-7.16c-.192-.435-.903-.435-1.095 0l-3.17 7.16-7.745.822a.601.601 0 0 0-.508.413.606.606 0 0 0 .17.635l5.785 5.248-1.616 7.667a.605.605 0 0 0 .586.729.595.595 0 0 0 .3-.081L12 19.003l6.747 3.916c.204.119.46.105.652-.035a.606.606 0 0 0 .234-.613l-1.616-7.668 5.786-5.248a.606.606 0 0 0 .168-.634z"}))}},1051:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(56),s=a.n(n),i=a(91),r=a.n(i),o=a(1),l=a.n(o),c=function(e){e.styles;var t=r()(e,["styles"]);return l.a.createElement("svg",s()({width:"18",height:"21",viewBox:"0 0 18 21",xmlns:"http://www.w3.org/2000/svg"},t),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 18v-2l1.414-1.414A2 2 0 0 0 2 13.172V9c0-1.556.674-2.98 1.71-4.095A7.695 7.695 0 0 1 7.5 2.68V2c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.68C13.37 3.36 16 5.93 16 9v4.172a2 2 0 0 0 .586 1.414L18 16v2H0zm15.172-2H2.828A4 4 0 0 0 4 13.172V9c0-1.916 1.75-3.848 3.963-4.374l1.035-.246 1.04.246C12.256 5.151 14 7.09 14 9v4.172A4.001 4.001 0 0 0 15.172 16zM11.5 19h-5c0 .364.123.705.337 1 .353.486.955.843 1.663.96a3.08 3.08 0 0 0 1 0c.708-.117 1.31-.474 1.663-.96.214-.295.337-.636.337-1z"}))}},1085:function(e,t,a){"use strict";var n=a(1010),s=a(1),i=a.n(s),r=["styles"];t.a=function(e){e.styles;var t=Object(n.j)(e,r);return i.a.createElement("svg",Object(n.g)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},t),i.a.createElement("path",{fillRule:"evenodd",d:"M14 2h-4v1.29C7.109 4.15 5 6.829 5 10v6H3v2h18v-2h-2v-6a7.003 7.003 0 00-5-6.71V2zm3 8v6H7v-6a5 5 0 0110 0zm-5 12a3.001 3.001 0 01-2.83-2h5.66A3.001 3.001 0 0112 22z",clipRule:"evenodd"}))}},1086:function(e,t,a){"use strict";var n=a(1010),s=a(1),i=a.n(s),r=["styles"];t.a=function(e){e.styles;var t=Object(n.j)(e,r);return i.a.createElement("svg",Object(n.g)({width:"40",height:"40",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i.a.createElement("path",{fill:"#fff",d:"M0 0h48v48H0z"}),i.a.createElement("path",{d:"M6.488 20.418a.42.42 0 00.62-.277l.367-1.738c1.257-5.94 6.108-10.63 12.07-11.667a.42.42 0 10-.144-.828C13.104 7.004 7.981 11.955 6.653 18.23l-.366 1.738a.42.42 0 00.2.45zM41.743 28.395a.42.42 0 00-.646.212l-.541 1.692C38.702 36.08 33.4 40.254 27.363 40.68a.42.42 0 10.06.838c6.375-.45 11.975-4.856 13.933-10.963l.54-1.692a.42.42 0 00-.153-.468z",fill:"#CD4A86",stroke:"#CD4A86",strokeWidth:"2"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.136 19.851c.848-.44 1.535-.036 1.535.905l.002 7.186c0 .941-.687 2.061-1.535 2.502l-11.21 5.92c-.848.441-1.534.037-1.534-.904v-7.187c0-.94.686-2.06 1.534-2.5l11.208-5.922z",fill:"#27E0F6"}),i.a.createElement("path",{d:"M31.011 15.627c.612.31 1.039 1.027.826 1.705-.124.394-.555.73-.927.922l-3.283 1.662-8.04 4.168c-.453.257-1.193.139-1.193-.525 0-.233.159-.414.34-.554l2.84-2.303c-.66-.348-1.332-.813-1.644-.978-.802-.426-.856-1.107-.856-1.367v-7.088c0-.247-.013-.446.063-.69a1.03 1.03 0 011.296-.667c.096.03.172.077.264.127l10.314 5.588z",fill:"#CD4A86"}))}},1899:function(e,t,a){"use strict";var n,s=a(1);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(null,arguments)}t.a=function(e){return s.createElement("svg",i({"data-preply-ds-component":"SvgIcon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),n||(n=s.createElement("path",{fillRule:"evenodd",d:"M7.207 5.793a1 1 0 00-1.414 1.414L10.586 12l-4.793 4.793a1 1 0 101.414 1.414L12 13.414l4.793 4.793a1 1 0 001.414-1.414L13.414 12l4.793-4.793a1 1 0 00-1.414-1.414L12 10.586 7.207 5.793z",clipRule:"evenodd"})))}},2098:function(e,t,a){"use strict";a.r(t),a.d(t,"NotificationIconWrap",(function(){return ft})),a.d(t,"Notifications",(function(){return mt}));var n,s=a(1010),i=a(1),r=a.n(i),o=a(69),l=a(37),c=a(74),u=a(113),d=a.n(u),f=a(450),m=a(330),g=a(1085),b=a(258),v=a(1051),p=a(1041),h=a(1043),_=a(1842),j=a(1250),y=a(566),M=a.n(y),w=a(1544),O=a(1155),E=a(1356),A=a(1808),k=a(619),x=a.n(k),T=a(2793),C=a(2797),B=a(1303),I=a(2249),R=a(1244),N=Object(l.default)(n||(n=Object(s.m)(["\n    query ReferralReward {\n        referrerReferralReward {\n            referralDiscount\n            referralRewardLocalized\n            referralReward\n        }\n    }\n"]))),S=["styles"],V=function(e){e.styles;var t=Object(s.j)(e,S);return r.a.createElement("svg",Object(s.g)({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 40 40"},t),r.a.createElement("rect",{width:"40",height:"40",fill:"#D9F1CD",rx:"20"}),r.a.createElement("path",{stroke:"#50BF16",strokeLinecap:"round",strokeWidth:"2",d:"M23 26a7 7 0 10-5.745-11"}),r.a.createElement("path",{stroke:"#50BF16",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M23 16v3h2.5M15 18v3.667c-3.536 0-6 1.512-6 5.833 2.063-1.964 3.25-2.167 6-2.167V29l5-5.5-5-5.5z"}))},L=a(399);Object(L.a)(".styles_referralIcon__7QQzN svg {\n  width: 40px;\n  height: 40px;\n}\n.styles_referralMessageButton__KJNYp {\n  margin-left: 8px;\n  background: #fff;\n  color: #6f757b;\n  border: 1px solid #aeb5bc;\n  width: 50%;\n  min-height: 18px;\n  white-space: initial;\n}\n.styles_referralMessageButton__KJNYp:hover {\n  background: #aeb5bc;\n  color: #fff;\n}\n.styles_referralMessageButtonInvite__dVr0j {\n  background: #50bf16;\n  color: #fff;\n  border: none;\n  margin-left: 0;\n}\n.styles_referralMessageButtonInvite__dVr0j:hover {\n  background: #54cd14;\n}\n");var D,F,U,z={referralIcon:"styles_referralIcon__7QQzN",referralMessageButton:"styles_referralMessageButton__KJNYp",referralMessageButtonInvite:"styles_referralMessageButtonInvite__dVr0j"},W=["className","children","invite","href","target"],P=function(e){var t=e.className,a=e.children,n=e.invite,i=e.href,o=e.target,l=Object(s.j)(e,W);return r.a.createElement(B.a,Object(s.g)({},l,{className:d()(t,z.referralMessageButton,Object(s.f)({},z.referralMessageButtonInvite,n)),href:i,target:o}),a)},H=Object(l.default)(D||(D=Object(s.m)(["\n    mutation ReferralBellDismiss {\n        storeReferralBellDismissNotificationMutation {\n            ok\n            error\n        }\n    }\n"]))),q=Object(l.default)(F||(F=Object(s.m)(["\n    mutation ReferralBell {\n        storeReferralBellNotificationMutation {\n            ok\n            error\n        }\n    }\n"]))),G=function(e){var t=e.language,a=e.referralMessageIndex,n=e.onActionClick,l=function(e){var t=Object(c.useQuery)(N,{skip:null==e?void 0:e.skip,fetchPolicy:"cache-first"}),a=t.data,n=t.loading,r=t.error,o=a&&a.referrerReferralReward?a.referrerReferralReward:null,l=null;return null!==o&&(l=o.referralRewardLocalized?o.referralRewardLocalized:o.referralReward),Object(i.useEffect)((function(){r&&R.a.withScope((function(e){e.setTag("referral","Failed_to_fetch_referrer_reward_in_navigation"),R.a.captureException(r)}))}),[r]),Object(s.i)(Object(s.i)({},o),{},{error:r,loading:n,referralRewardLocalized:l})}(),u=l.loading,d=l.error,f=function(e){var t=e.index,a=e.referralReward,n=e.referralDiscount,i=[{header:r.a.createElement(o.FormattedMessage,{defaultMessage:"Invite your friends and earn free credits",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Invite your friends and earn free credits","description":"referralBell.header.1"}'}),message:r.a.createElement(o.FormattedMessage,{defaultMessage:"Like your lessons? Share the joy of learning languages!",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Like your lessons? Share the joy of learning languages!","description":"referralBell.message.1"}'}),dismissalText:r.a.createElement(o.FormattedMessage,{defaultMessage:"Dismiss",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Dismiss","description":"referralBell.dismiss.1"}'}),referralText:r.a.createElement(o.FormattedMessage,{defaultMessage:"Invite friends",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Invite friends","description":"referralBell.confirm.1"}'}),mentionsDiscount:!1,eventName:"bell_notif_referral_invite_free_credits"},{header:r.a.createElement(o.FormattedMessage,{defaultMessage:"Refer a friend and earn {referralReward}",values:Object(s.i)(Object(s.i)({},b.formattedMessageAbTestValues),Object(s.i)({},{referralReward:a})),id:'{"defaultMessage":"Refer a friend and earn {referralReward}","description":"referralBell.header.2"}'}),message:r.a.createElement(o.FormattedMessage,{defaultMessage:"Learning is more fun with friends. Earn up to {referralReward} for every friend you invite to join Preply.",values:Object(s.i)(Object(s.i)({},b.formattedMessageAbTestValues),Object(s.i)({},{referralReward:a})),id:'{"defaultMessage":"Learning is more fun with friends. Earn up to {referralReward} for every friend you invite to join Preply.","description":"referralBell.message.2"}'}),dismissalText:r.a.createElement(o.FormattedMessage,{defaultMessage:"Close",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Close","description":"notification.close"}'}),referralText:r.a.createElement(o.FormattedMessage,{defaultMessage:"Refer a friend",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Refer a friend","description":"referralBell.confirm.2"}'}),mentionsDiscount:!1,eventName:"bell_notif_referral_refer_get5"},{header:r.a.createElement(o.FormattedMessage,{defaultMessage:"Give {referralDiscount}, get {referralReward}",values:Object(s.i)(Object(s.i)({},b.formattedMessageAbTestValues),{referralDiscount:n,referralReward:a}),id:'{"defaultMessage":"Give {referralDiscount}, get {referralReward}","description":"referralBell.header.3"}'}),message:r.a.createElement(o.FormattedMessage,{defaultMessage:"Give your friends {referralDiscount} off their first lesson on Preply, and you’ll get {referralReward} when they make a purchase!",values:Object(s.i)(Object(s.i)({},b.formattedMessageAbTestValues),{referralDiscount:n,referralReward:a}),id:'{"defaultMessage":"Give your friends {referralDiscount} off their first lesson on Preply, and you’ll get {referralReward} when they make a purchase!","description":"referralBell.message.3"}'}),dismissalText:r.a.createElement(o.FormattedMessage,{defaultMessage:"Close",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Close","description":"notification.close"}'}),referralText:r.a.createElement(o.FormattedMessage,{defaultMessage:"Refer a friend",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Refer a friend","description":"referralBell.confirm.2"}'}),mentionsDiscount:!0,eventName:"bell_notif_referral_give30_get5"},{header:r.a.createElement(o.FormattedMessage,{defaultMessage:"Got friends?",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Got friends?","description":"referralBell.header.4"}'}),message:r.a.createElement(o.FormattedMessage,{defaultMessage:"Invite them to join Preply! You’ll get {referralReward} for every friend who starts learning.",values:Object(s.i)(Object(s.i)({},b.formattedMessageAbTestValues),Object(s.i)({},{referralReward:a})),id:'{"defaultMessage":"Invite them to join Preply! You’ll get {referralReward} for every friend who starts learning.","description":"referralBell.message.4"}'}),dismissalText:r.a.createElement(o.FormattedMessage,{defaultMessage:"Maybe later",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Maybe later","description":"referralBell.dismiss.4"}'}),referralText:r.a.createElement(o.FormattedMessage,{defaultMessage:"Refer a friend",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Refer a friend","description":"referralBell.confirm.2"}'}),mentionsDiscount:!1,eventName:"bell_notif_referral_got_friends"},{header:r.a.createElement(o.FormattedMessage,{defaultMessage:"Want free lessons?",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Want free lessons?","description":"referralBell.header.5"}'}),message:r.a.createElement(o.FormattedMessage,{defaultMessage:"Refer your friends! Get {referralReward} for every friend who buys their first lesson. Your next lesson could be free!",values:Object(s.i)(Object(s.i)({},b.formattedMessageAbTestValues),{referralReward:a}),id:'{"defaultMessage":"Refer your friends! Get {referralReward} for every friend who buys their first lesson. Your next lesson could be free!","description":"referralBell.message.5"}'}),dismissalText:r.a.createElement(o.FormattedMessage,{defaultMessage:"No, thanks",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"No, thanks","description":"referralBell.dismiss.5"}'}),referralText:r.a.createElement(o.FormattedMessage,{defaultMessage:"Refer a friend",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Refer a friend","description":"referralBell.confirm.2"}'}),mentionsDiscount:!0,eventName:"bell_notif_referral_want_free_lessons"}];return i[t<i.length?t:0]}({referralDiscount:l.referralDiscount,index:d?0:a,referralReward:l.referralRewardLocalized}),m=f.header,g=f.message,v=f.dismissalText,h=f.referralText,_=f.eventName,j=Object(c.useMutation)(H),y=Object(s.l)(j,1)[0],M=Object(c.useMutation)(q),w=Object(s.l)(M,1)[0],O=function(e){return Object(p.C)({buttonName:e,name:_,autoOpened:!0})};return Object(i.useEffect)((function(){w(),Object(p.D)({name:_,autoOpened:!0})}),[w,_]),r.a.createElement(I.a,null,{header:m,message:g,isReferralRewardLoading:u,icon:r.a.createElement("div",{className:z.referralIcon},r.a.createElement(V,{"data-qa-group":"system-message-icon"})),primaryAction:r.a.createElement(P,{invite:!0,href:"https://preply.com/".concat(t,"/referral"),target:"_blank","data-qa-group":"system-message-invite-btn",onClick:function(){n(),Object(p.F)("invite"),O("INVITE")}},h),secondaryAction:r.a.createElement(P,{onClick:function(){n(),y(),Object(p.F)("dismiss"),O("DISMISS")},"data-qa-group":"system-message-dismiss-btn"},v)})},Q=Object(l.default)(U||(U=Object(s.m)(["\n    query ReferralBellStatus {\n        referralBellStatus {\n            showReferralBellNotification\n            referralMessageIndex\n        }\n    }\n"]))),J={read:function(){var e=localStorage.getItem("nav_kids_search_notification_key");return e?JSON.parse(e):null},store:function(e){localStorage.setItem("nav_kids_search_notification_key",JSON.stringify(e))},remove:function(e){localStorage.removeItem(e)}},Y=a(1824),K=["styles"],$=function(e){e.styles;var t=Object(s.j)(e,K);return r.a.createElement("svg",Object(s.g)({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r.a.createElement("rect",{width:"40",height:"40",rx:"20",fill:"#E8F6F7"}),r.a.createElement("path",{d:"M28.033 7.777a.576.576 0 011.055.462l-1.754 4a5.322 5.322 0 011.83 3.515l.922 11.44c.097 1.358-.325 2.617-1.19 3.546-.815.876-1.95 1.358-3.196 1.358H14.534a4.644 4.644 0 01-3.429-1.517 4.644 4.644 0 01-1.184-3.557l1.07-11.238a5.32 5.32 0 011.709-3.44l-1.796-3.904a.575.575 0 111.046-.481l1.688 3.67c.36-.198.742-.356 1.139-.467L13.01 7.295a.576.576 0 011.048-.478l1.895 4.151c.115-.007.231-.01.348-.01h.26v-.466a2.393 2.393 0 012.39-2.39h2.082a2.393 2.393 0 012.39 2.39v.465h.433c.06 0 .122.001.182.003l1.813-4.139a.575.575 0 111.055.462l-1.685 3.85c.399.104.783.254 1.145.446l1.666-3.802zm-4.176 4.332h-7.555a4.166 4.166 0 00-4.165 3.786l-1.07 11.238a3.491 3.491 0 00.89 2.673 3.489 3.489 0 002.577 1.14H25.7c.923 0 1.758-.352 2.354-.991.643-.692.958-1.641.884-2.675l-.92-11.422a4.19 4.19 0 00-1.518-2.83.577.577 0 01-.234-.101 4.17 4.17 0 00-1.942-.778.587.587 0 01-.108-.025 4.248 4.248 0 00-.36-.015zm-1.584-1.617a1.24 1.24 0 00-1.239-1.239h-2.081a1.24 1.24 0 00-1.24 1.24v.464h4.56v-.465zm4.383 18.274a.576.576 0 01-.573-.521l-.952-10.004c-.002-1.82-1.446-3.277-3.234-3.277H18.09a3.238 3.238 0 00-3.232 3.241l-.954 10.04a.569.569 0 01-.628.518.575.575 0 01-.518-.627l.951-9.985c-.002-2.38 1.97-4.338 4.38-4.338h3.808a4.385 4.385 0 014.383 4.373l.95 9.95a.574.574 0 01-.516.627c-.031.003-.031.003-.058.003zm-6.923-8.227a.573.573 0 01.52 0l.78.394-.172-.88a.593.593 0 01.104-.49l.713-.79h-.746a.575.575 0 01-.517-.322l-.421-.855-.422.855a.576.576 0 01-.517.322h-.742l.28.307.01.01c.237.261.388.43.425.481.101.137.137.316.099.479l-.172.883.778-.395zm3.116-2.918a.576.576 0 01.459.924L22.034 20l.396 1.87a.575.575 0 01-.82.648l-1.571-.843-1.662.843a.576.576 0 01-.821-.645l.419-1.788-1.3-1.545a.577.577 0 01.463-.92h1.559l.78-1.582c.196-.4.837-.4 1.033 0l.78 1.583h1.559zm-.376 8.232c.576.298.952 1.024.952 1.862 0 1.117-.665 2.003-1.528 2.003s-1.528-.886-1.528-2.003c0-.838.376-1.564.952-1.862v-1.37h-4.659a.575.575 0 110-1.152h6.663a.575.575 0 110 1.152h-.852v1.37zm-.576 1.01c-.159 0-.376.38-.376.852s.217.852.376.852.376-.38.376-.852c0-.473-.217-.852-.376-.852z",fill:"#3BB3BD"}))},Z=function(e){var t=e.language,a=e.kidTagAliases,n=e.subjectAlias,s=e.onActionClick,l=Object(Y.a)({language:t,subjectAlias:n}).findTutorsUrlData;Object(i.useEffect)((function(){Object(p.v)("popup_shown")}),[]);var c=l&&l.findTutorsUrl.name;return r.a.createElement(I.a,null,{header:r.a.createElement(o.FormattedMessage,{defaultMessage:"Looking for the right tutor for your child?",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Looking for the right tutor for your child?","description":""}'}),message:r.a.createElement(o.FormattedMessage,{defaultMessage:"We made a list of expert tutors for you to choose from",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"We made a list of expert tutors for you to choose from","description":""}'}),icon:r.a.createElement($,null),primaryAction:r.a.createElement(I.b,{primary:!0,"data-qa-id":"nav-kids-search-view-tutors",href:ee(a,c),onClick:function(){Object(p.v)("click_show_tutors"),s()}},r.a.createElement(o.FormattedMessage,{defaultMessage:"View tutors",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"View tutors","description":""}'})),secondaryAction:r.a.createElement(I.b,{"data-qa-id":"nav-kids-search-dismiss",onClick:function(){Object(p.v)("click_dismiss"),s()}},r.a.createElement(o.FormattedMessage,{defaultMessage:"Not interested",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Not interested","description":""}'}))})},X=["en_gchi","kids_jschool"].join(","),ee=function(e,t){if("undefined"==typeof window||!t)return"";var a=e.length?e.join(","):X;if(t.includes(window.location.pathname)){var n=new URLSearchParams(window.location.search);return n.delete("page"),n.set("tags",a),"".concat(window.location.pathname,"?").concat(n.toString())}var i=new URLSearchParams(Object(s.f)({},"tags",a));return"".concat(t,"?").concat(i.toString())},te=a(1781),ae=["styles"],ne=function(e){e.styles;var t=Object(s.j)(e,ae);return r.a.createElement("svg",Object(s.g)({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r.a.createElement("rect",{width:"40",height:"40",rx:"20",fill:"#D6F4CA"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.778 20.686a1 1 0 01-1.705.64l-2.672-2.67c-2.312 2.169-5.126 4.204-7.42 5.732a87.426 87.426 0 01-4.162 2.603l-.26.15-.068.04-.018.01-.005.002-.002.001-.492-.87-.796-.605.001-.002.004-.005.014-.018.055-.072.21-.274a273.636 273.636 0 013.342-4.269c1.754-2.195 3.857-4.746 5.513-6.508l-2.672-2.672a1 1 0 01.64-1.705l10.102-.674a1 1 0 011.064 1.065l-.673 10.101zm-16.804 5.637l.492.872a1 1 0 01-1.288-1.476l.796.604zm4.391-3.995l-.11.139c2.424-1.635 5.279-3.75 7.45-5.922a1 1 0 011.415 0l1.809 1.81.45-6.763-6.762.45 1.809 1.81a1 1 0 010 1.414c-1.639 1.639-4.043 4.538-6.061 7.062zM24 25a1 1 0 112 0v5a1 1 0 11-2 0v-5zm-4 1.5a1 1 0 00-1 1V30a1 1 0 102 0v-2.5a1 1 0 00-1-1zm-6 3a1 1 0 112 0v.5a1 1 0 11-2 0v-.5z",fill:"#24BB36"}))},se=function(e){return"".concat("exp_eng_achievements_mvp","_").concat(e,"_click")};Object(L.a)(".styles_dismissButton__1sxDT {\n  margin-left: 8px;\n  background: #fff;\n  color: #6f757b;\n  border: 1px solid #aeb5bc;\n  width: 50%;\n  min-height: 18px;\n  white-space: initial;\n}\n.styles_dismissButton__1sxDT:hover {\n  background: #aeb5bc;\n  color: #fff;\n}\n.styles_primaryButton__2pGs4 {\n  background: #50bf16;\n  color: #fff;\n  border: none;\n  margin-left: 0;\n  white-space: normal;\n}\n.styles_primaryButton__2pGs4:hover {\n  background: #54cd14;\n}\n");var ie,re,oe,le,ce,ue={dismissButton:"styles_dismissButton__1sxDT",primaryButton:"styles_primaryButton__2pGs4"},de=function(e){var t=e.subjectAlias,a=e.tutoringId,n=e.onClose,l=se(t),u=Object(i.useState)(!0),f=Object(s.l)(u,2),m=f[0],g=f[1],v="/edu/".concat(t,"/classroom-v2/").concat(a,"/achievements?source=bell_adoption"),h=Object(c.useMutation)(te.c),_=Object(s.l)(h,1)[0],j=function(e){Object(p.C)({subject:t,buttonName:e,autoOpened:!0,name:"achievements"}),g(!1),_({variables:{eventName:l}})};return Object(i.useEffect)((function(){Object(p.D)({subject:t,autoOpened:!0,name:"achievements"})}),[t]),m?r.a.createElement(I.a,null,{header:r.a.createElement(o.FormattedMessage,{defaultMessage:"New! Track your achievements",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"New! Track your achievements","description":""}'}),message:r.a.createElement(o.FormattedMessage,{defaultMessage:"See your progress toward the next level",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"See your progress toward the next level","description":""}'}),icon:r.a.createElement(ne,{"data-qa-group":"bell-notification--icon"}),primaryAction:r.a.createElement(B.a,{className:d()(ue.primaryButton),href:v,"data-qa-group":"bell-notification-competencies-track-progress-lessons-btn",onClick:function(){return j("START")}},r.a.createElement(o.FormattedMessage,{defaultMessage:"Track Progress",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Track Progress","description":""}'})),secondaryAction:r.a.createElement(B.a,{className:d()(ue.dismissButton),onClick:function(){j("DISMISS"),n()},"data-qa-group":"bell-notification-competencies-dismiss-btn"},r.a.createElement(o.FormattedMessage,{defaultMessage:"Dismiss",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Dismiss","description":""}'}))}):null},fe=a(1240),me=a(1070),ge=a(159),be=a(1245),ve=function(e){return(null==e?void 0:e.group)===fe.d.LanguageGroup?e.alias:""},pe=Object(l.default)(ie||(ie=Object(s.m)(["\n    query AllAchievementCertificate {\n        allAchievementCertificates {\n            currentLevel\n            nextLevel\n            hoursToNextLevel\n            downloadUrl\n            subject {\n                id\n                alias\n                translatedName\n            }\n            completedHours\n        }\n    }\n"]))),he=a(1363),_e=Object(l.default)(re||(re=Object(s.m)(["\n    mutation GamificationEvent($eventName: String!) {\n        gamificationEventMutation(eventName: $eventName) {\n            ok\n        }\n    }\n"]))),je=a(1256),ye=["styles"],Me=function(e){e.styles;var t=Object(s.j)(e,ye);return r.a.createElement("svg",Object(s.g)({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r.a.createElement("rect",{width:"40",height:"40",rx:"20",fill:"#D6F4CA"}),r.a.createElement("path",{d:"M16 24v5l4-2.564L24 29v-5M20.757 22.121a1 1 0 01-1.515 0l-1.405-1.63-2.15-.082a1 1 0 01-.945-1.185l.399-2.115-1.277-1.732A1 1 0 0114.2 13.9l1.902-1.007.558-2.079a1 1 0 011.366-.657l1.973.86 1.973-.86a1 1 0 011.365.657l.558 2.079L25.8 13.9a1 1 0 01.337 1.477l-1.277 1.732.399 2.115a1 1 0 01-.945 1.185l-2.15.082-1.406 1.63z",stroke:"#50BF16",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},we=a(326),Oe=a(9),Ee=Object(Oe.default)(B.a)(oe||(oe=Object(s.m)(["\n&, && { \n    border-radius: 2px;\n    font-weight: ",";\n    font-size: ",";\n    line-height: ",";\n    text-align: center;\n    padding: ",";\n    font-weight: ",";\n\n    background-color: ",";\n    color: white;\n    white-space: break-spaces;\n\n    &:hover {\n        background: #54cd14;\n    }\n }\n"])),we.i.weights.medium,we.i.sizes.m,we.i.lineHeights.base,we.m.xxs,we.i.weights.medium,we.b.p.green),Ae=Object(Oe.default)(B.a)(le||(le=Object(s.m)(["\n&, && { \n    border-radius: 2px;\n    font-weight: ",";\n    font-size: ",";\n    line-height: ",";\n    text-align: center;\n    padding: ",";\n    font-weight: ",";\n\n    background-color: white;\n    color: ",";\n    border: 1px solid ",";\n    margin-left: ",";\n\n    &:hover {\n        background: @colors-grey-g3;\n        color: white;\n    }\n }\n"])),we.i.weights.medium,we.i.sizes.m,we.i.lineHeights.base,we.m.xxs,we.i.weights.medium,we.b.grey.g1,we.b.grey.g3,we.m.xxs),ke=function(e){var t=e.downloadURL,a=e.onClick,n=Object(i.useState)(!1),l=Object(s.l)(n,2),c=l[0],u=l[1];return r.a.createElement(Ee,{onClick:function(){a(),u(!0)},disabled:c,href:t,target:"_blank"},r.a.createElement(o.FormattedMessage,{defaultMessage:"Get certificate",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Get certificate","description":""}'}))},xe=Object(l.default)(ce||(ce=Object(s.m)(["\n    mutation IssueAchievementCertificate($subjectAlias: String!) {\n        issueAchievementCertificate(subjectAlias: $subjectAlias) {\n            downloadUrl\n        }\n    }\n"]))),Te=function(e){var t=e.completedHours,a=e.currentLevel,n=e.subject,l=e.toggleModal,u=Object(i.useState)(!0),d=Object(s.l)(u,2),f=d[0],m=d[1],g=Object(i.useState)(""),v=Object(s.l)(g,2),p=v[0],h=v[1],_=function(e){var t=e.eventName,a=Object(c.useMutation)(_e,{variables:{eventName:t}});return Object(s.l)(a,1)[0]}({eventName:"".concat("exp_eng_cert_achievement","-").concat(null==n?void 0:n.alias,"-").concat(a)}),j=Object(c.useMutation)(xe,{variables:{subjectAlias:(null==n?void 0:n.alias)||""}}),y=Object(s.l)(j,1)[0];Object(i.useEffect)((function(){y&&y().then((function(e){var t,a,n=null==e||null===(t=e.data)||void 0===t||null===(a=t.issueAchievementCertificate)||void 0===a?void 0:a.downloadUrl;n&&h(n)}))}),[y]);Object(i.useEffect)((function(){f&&Object(he.a)({event_name:"notification_popup_viewed",json_data:JSON.stringify({notification_name:"certificate_achieved",subject:null==n?void 0:n.alias,hours_subject:t})})}),[f,null==n?void 0:n.alias,t]);var M=Object(je.capitalize)((null==n?void 0:n.translatedName)||"");return f?r.a.createElement(I.a,null,{header:r.a.createElement(o.FormattedMessage,{defaultMessage:"Congrats! You earned a new {subject} certificate",values:Object(s.i)(Object(s.i)({},b.formattedMessageAbTestValues),{subject:M}),id:'{"defaultMessage":"Congrats! You earned a new {subject} certificate","description":""}'}),message:r.a.createElement(o.FormattedMessage,{defaultMessage:"Download your {hours} hour certificate now and celebrate your progress",values:Object(s.i)(Object(s.i)({},b.formattedMessageAbTestValues),{hours:a}),id:'{"defaultMessage":"Download your {hours} hour certificate now and celebrate your progress","description":""}'}),icon:r.a.createElement(Me,null),primaryAction:r.a.createElement(ke,{onClick:function(){Object(he.a)({event_name:"notification_popup_clicked",json_data:JSON.stringify({notification_name:"certificate_achieved",subject:null==n?void 0:n.alias,hours_subject:t,button:"DOWNLOAD_CERTIFICATE",auto_opened:!0})}),_(),m(!1),l(!1)},downloadURL:p}),secondaryAction:r.a.createElement(Ae,{onClick:function(){Object(he.a)({event_name:"notification_popup_clicked",json_data:JSON.stringify({notification_name:"certificate_achieved",subject:null==n?void 0:n.alias,hours_subject:t,button:"DISMISS",auto_opened:!0})}),_(),m(!1),l(!1)}},r.a.createElement(o.FormattedMessage,{defaultMessage:"Dismiss",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Dismiss","description":""}'}))}):null},Ce=a(201),Be=a(574),Ie=a(567),Re=a(1799),Ne=a(1899),Se=["styles"],Ve=function(e){e.styles;var t=Object(s.j)(e,Se);return r.a.createElement("svg",Object(s.g)({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r.a.createElement("rect",{width:"40",height:"40",rx:"20",fill:"#E4EBFD"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 14v-1a1 1 0 011-1h4a1 1 0 011 1v1h-6zm10 0h-2v-1a3 3 0 00-3-3h-4a3 3 0 00-3 3v1h-2a2 2 0 00-2 2v3c0 1.014.378 1.94 1 2.646V25a4 4 0 004 4h8a4 4 0 004-4v-3.354c.622-.705 1-1.632 1-2.646v-3a2 2 0 00-2-2zm-1 8.874A4.01 4.01 0 0125 23h-2a1 1 0 01-1 1h-4a1 1 0 01-1-1h-2a4.01 4.01 0 01-1-.126V25a2 2 0 002 2h8a2 2 0 002-2v-2.126zM13 16h14v3a2 2 0 01-2 2H15a2 2 0 01-2-2v-3z",fill:"#3858C2"}))};Object(L.a)(".styles_CloseButtonWrapper__20uqx {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n");var Le,De,Fe,Ue={CloseButtonWrapper:"styles_CloseButtonWrapper__20uqx"},ze=Object(l.default)(Le||(Le=Object(s.m)(["\n    query ShouldAskForHW {\n        homework {\n            askForHomework\n        }\n    }\n"]))),We=Object(o.defineMessages)({btn:{id:'{"defaultMessage":"Close","description":""}',defaultMessage:"Close"}}),Pe=function(){var e,t,a,n,s,r,o,l=Object(c.useQuery)(te.d,{variables:{amongAllLessons:!0}}),u=l.data,d=l.error;Object(i.useEffect)((function(){d&&R.a.withScope((function(e){e.setTag("Notifications","HomeworkRequestReminder"),e.setLevel(ge.a.Critical),R.a.captureException(d)}))}),[d]);var f=null==u||null===(e=u.currentUser)||void 0===e?void 0:e.lastLesson,m=null==f||null===(t=f.tutoring.tutor)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.id,g=null==u||null===(n=u.currentUser)||void 0===n?void 0:n.nearestLesson,b=null==g||null===(s=g.tutoring)||void 0===s||null===(r=s.tutor)||void 0===r||null===(o=r.user)||void 0===o?void 0:o.id;return{tutorId:m||b,lessonId:(null==f?void 0:f.id)||(null==g?void 0:g.id)}},He=function(e){var t=e.language,a=Object(o.useIntl)(),n=Pe(),i=n.tutorId,l=n.lessonId,c=Object(Re.b)("".concat("homework_request_reminder","_").concat(l),!l),u="/".concat(t,"/messages/").concat(i);return r.a.createElement(I.a,null,{header:r.a.createElement(Ce.a,{justifyContent:"space-between"},r.a.createElement("div",null,r.a.createElement(o.FormattedMessage,{id:"navigation.homeworkRequestReminder.notification.preHeader",defaultMessage:"Ask for some homework",values:b.formattedMessageAbTestValues})),r.a.createElement("div",{className:Ue.CloseButtonWrapper},r.a.createElement(Be.a,{variant:"ghost",svg:Ne.a,onClick:function(){return c()},assistiveText:a.formatMessage(We.btn,Object(s.i)(Object(s.i)({},b.formatMessageAbTestValuesAlwaysAVersion),Object(s.i)(Object(s.i)({},b.formatMessageAbTestValuesAlwaysAVersion),Object(s.i)(Object(s.i)({},b.formatMessageAbTestValuesAlwaysAVersion),Object(s.i)(Object(s.i)({},b.formatMessageAbTestValuesAlwaysAVersion),b.formatMessageAbTestValuesAlwaysAVersion)))))}))),message:r.a.createElement(o.FormattedMessage,{id:"navigation.homeworkRequestReminder.notification.message",defaultMessage:"Want to progress faster? Ask your tutor for some homework",values:b.formattedMessageAbTestValues}),icon:r.a.createElement(Ve,null),primaryAction:r.a.createElement(Ie.Button,{url:u,opensInNewTab:!0,onClick:function(){c(),Object(he.a)({event_name:"notification_popup_clicked",json_data:JSON.stringify({notification_name:"homework_reminder",button:"HOMEWORK"})})}},r.a.createElement(o.FormattedMessage,{id:"navigation.homeworkRequestReminder.notification.cta",defaultMessage:"Ask for homework",values:b.formattedMessageAbTestValues}))})},qe=a(1086),Ge=function(e){var t=e.language,a=e.handleRewindNotificationInteraction,n=e.rewindId;return r.a.createElement(I.a,null,{header:r.a.createElement(o.FormattedMessage,{defaultMessage:"Open Preply Rewind",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Open Preply Rewind","description":""}'}),message:r.a.createElement(o.FormattedMessage,{defaultMessage:"See your language learning progress with Preply Rewind.",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"See your language learning progress with Preply Rewind.","description":""}'}),icon:r.a.createElement(qe.a,{"data-qa-group":"bell-notification--icon"}),primaryAction:r.a.createElement(I.b,{primary:!0,href:((new URLSearchParams).append("entrypoint","navigation"),"/".concat(t,"/preply-rewind/").concat(n)),onClick:a},r.a.createElement(o.FormattedMessage,{defaultMessage:"View Rewind",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"View Rewind","description":""}'})),secondaryAction:r.a.createElement(I.b,{onClick:a},r.a.createElement(o.FormattedMessage,{defaultMessage:"Dismiss",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Dismiss","description":""}'}))})},Qe=Object(l.default)(De||(De=Object(s.m)(["\n    query CheckUserHasRewind {\n        checkUserHasRewind {\n            isEligible\n            rewindId\n        }\n    }\n"]))),Je=Object(l.default)(Fe||(Fe=Object(s.m)(["\n    query TopUpHoursNotification {\n        currentUser {\n            id\n            client {\n                id\n                subscriptionType\n                tutorings {\n                    nodes {\n                        id\n                        hours\n                        refill {\n                            id\n                            refillHours\n                            status\n                        }\n                    }\n                }\n            }\n        }\n    }\n"]))),Ye=function(e){var t=e.showTopUpModal;return r.a.createElement(I.a,null,{header:r.a.createElement(o.FormattedMessage,{defaultMessage:"Keep up your impressive pace!",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Keep up your impressive pace!","description":"notifications.topUp.header"}'}),message:r.a.createElement(o.FormattedMessage,{defaultMessage:"Add extra lesson hours to continue learning before your plan renews.",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Add extra lesson hours to continue learning before your plan renews.","description":"notifications.topUp.message"}'}),primaryAction:r.a.createElement(Ie.Button,{fullWidth:!0,onClick:t},r.a.createElement(o.FormattedMessage,{defaultMessage:"Add extra hours",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Add extra hours","description":"notifications.topUp.cta"}'}))})},Ke=a(237),$e=a(1370),Ze=function(e){var t=e.language,a=e.handleTutorCommunityMessageInteraction;Object(i.useEffect)((function(){Object(p.D)({name:"bell_notif_tutor_community",autoOpened:!1})}),[]);var n,s=r.a.createElement(Ce.a,{direction:"column"},r.a.createElement(Ce.a,{justifyContent:"space-between"},r.a.createElement(Ke.a,{variant:"caption-regular",accent:"secondary"},r.a.createElement(o.FormattedMessage,{id:"navigation.tutor_community.message.pre_header.text",defaultMessage:"NOTIFICATIONS",values:b.formattedMessageAbTestValues})),r.a.createElement(Be.a,{variant:"ghost",svg:Ne.a,onClick:a,assistiveText:"Close notifications"})),r.a.createElement(Ke.a,{variant:"default-semibold",accent:"primary"},r.a.createElement(Ce.a,{alignItems:"center",gap:"4"},r.a.createElement(o.FormattedMessage,{id:"navigation.tutor_community.message.header.text",defaultMessage:"Tutors community",values:b.formattedMessageAbTestValues}),r.a.createElement($e.a,{size:"small",accent:"positive",inverted:!0},r.a.createElement(o.FormattedMessage,{id:"navigation.tutor_community.message.badge.text",defaultMessage:"New",values:b.formattedMessageAbTestValues})))));return r.a.createElement(I.a,null,{header:s,message:r.a.createElement(Ke.a,{variant:"small-regular",accent:"secondary"},r.a.createElement(o.FormattedMessage,{id:"navigation.tutor_community.message.description.text",defaultMessage:"You've got new notifications from the tutor community",values:b.formattedMessageAbTestValues})),primaryAction:r.a.createElement(Ie.Button,{onClick:function(){Object(p.C)({name:"bell_notif_tutor_community",buttonName:"VIEW",autoOpened:!1})},url:(n=new URLSearchParams,n.append("redirect_to","/notifications"),"/".concat(t,"/community?").concat(n)),fullWidth:!0},r.a.createElement(o.FormattedMessage,{id:"navigation.tutor_community.message.cta.text",defaultMessage:"View notifications",values:b.formattedMessageAbTestValues}))})},Xe=a(1038),et="exp_b2c2b_extra_materials_incentive",tt=function(e){return"".concat(et,"_").concat(e,"_clicked")};Object(L.a)("/* AUTO GENERATED by support/tools/src/tool/code-generator/output/tokens/web-core-tokens-less.ts @Mon Sep 09 2024 12:46:26 GMT+0000 (Coordinated Universal Time) */\n.styles_primaryButton__3aLJf {\n  margin-right: var(--66b80b);\n}\n.styles_iconBackground__Rw7cm {\n  background: var(--4655ff);\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n");var at,nt,st={primaryButton:"styles_primaryButton__3aLJf",iconBackground:"styles_iconBackground__Rw7cm"},it=function(e){var t=e.subjectAlias,a=e.language,n=e.onClose,l=e.viewed,u=tt(t),d=Object(i.useState)(!0),f=Object(s.l)(d,2),g=f[0],v=f[1],h="/".concat(a,"/lessons#/b2c2b/").concat(et,"/?b2c2bSourceUrl=").concat(window.location.pathname),_=Object(c.useMutation)(te.c),j=Object(s.l)(_,1)[0],y=function(e){Object(p.C)({subject:t,buttonName:e,autoOpened:!0,name:"b2c2bExtraMaterialsIncentive"}),v(!1),j({variables:{eventName:u}})};return Object(i.useEffect)((function(){Object(p.D)({subject:t,autoOpened:!0,name:"b2c2bExtraMaterialsIncentive"}),l()}),[u,t,l]),g?r.a.createElement(I.a,null,{header:r.a.createElement(Ke.a,{variant:"default-semibold"},r.a.createElement(o.FormattedMessage,{defaultMessage:"Get learning materials for your profession",id:"navigation.bell.notification.b2c2bExtraMaterialsIncentive.header",values:b.formattedMessageAbTestValues})),message:r.a.createElement(Ke.a,{variant:"small-regular"},r.a.createElement(o.FormattedMessage,{defaultMessage:"Share your corporate email and job function to claim your job-specific materials",id:"navigation.bell.notification.b2c2bExtraMaterialsIncentive.message",values:b.formattedMessageAbTestValues})),icon:r.a.createElement("div",{className:st.iconBackground,"data-qa-id":"bell-notification--icon"},r.a.createElement(m.a,{svg:Xe.a,accent:"positive"})),primaryAction:r.a.createElement("div",{className:st.primaryButton},r.a.createElement(Ie.Button,{fullWidth:!0,"data-qa-id":"bell-notification-b2c2bExtraMaterialsIncentive-primaryAction",onClick:function(){y("CLAIM"),window.open(h)}},r.a.createElement(o.FormattedMessage,{defaultMessage:"Claim materials",id:"navigation.bell.notification.b2c2bExtraMaterialsIncentive.primaryAction-btn",values:b.formattedMessageAbTestValues}))),secondaryAction:r.a.createElement(Ie.Button,{variant:"secondary",fullWidth:!0,size:{_:"small","narrow-l":"small"},onClick:function(){y("DISMISS"),n()},"data-qa-id":"bell-notification-b2c2bExtraMaterialsIncentive-dismiss-btn"},r.a.createElement(o.FormattedMessage,{defaultMessage:"Dismiss",values:b.formattedMessageAbTestValues,id:'{"defaultMessage":"Dismiss","description":""}'}))}):null},rt=[fe.b.WorkingProfessional,fe.b.Conversationalist,fe.b.Relocator],ot=function(e,t,a){var n,r,o=e||t||!("english"===a),l=(r=a||"","".concat(et,"_").concat(r,"_viewed")),u=Object(c.useQuery)(te.e,{variables:{eventName:l},fetchPolicy:"no-cache",skip:o}),d=u.data,f=u.loading,m=Object(c.useMutation)(te.c),g=Object(s.l)(m,1)[0],b=null==d||null===(n=d.gamificationEvent)||void 0===n?void 0:n.occurred,v=Object(i.useCallback)((function(){o||b||g({variables:{eventName:l}})}),[g,l,o,b]);return[b,f,v]},lt=Object(l.default)(at||(at=Object(s.m)(["\n    query bellNotifications($onlyUnread: Boolean!, $limit: Int) {\n        notifications(onlyUnread: $onlyUnread, limit: $limit) {\n            id\n        }\n    }\n"]))),ct=["className","children","popupVisible"],ut=Object(o.defineMessages)({notificationAssistiveText:{id:"header.notification.button",defaultMessage:"Open notifications"}}),dt=Object(l.default)(nt||(nt=Object(s.m)(["\n    query Notifications {\n        currentUser {\n            id\n            client {\n                id\n                isEnterprise\n                unconfirmedLessons {\n                    nodes {\n                        id\n                        status\n                        datetime\n                        hasIssue\n                        autoConfirmation\n                        rating {\n                            id\n                        }\n                        tutor {\n                            id\n                            fullName\n                            user {\n                                id\n                                profile {\n                                    id\n                                    avatarUrl\n                                }\n                            }\n                        }\n                    }\n                }\n                lastConfirmedLesson {\n                    id\n                    tutoring {\n                        id\n                        lead {\n                            id\n                            subject {\n                                id\n                                alias\n                            }\n                        }\n                    }\n                }\n                passedHours\n            }\n            tutor {\n                id\n            }\n        }\n    }\n"]))),ft=function(e){var t=e.className,a=e.children,n=e.popupVisible,i=Object(s.j)(e,ct);return r.a.createElement("div",Object(s.g)({},i,{className:d()(t,T.a.notificationIconWrap,Object(s.f)({},T.a.notificationIconWrapVisible,n))}),a)},mt=r.a.forwardRef((function(e,t){var a,n,l,u,y,k,T,B,I,N,S=e.language,V=e.timezone,L=e.isTutorNotificationBellActive,D=Object(o.useIntl)().formatMessage,F=Object(h.c)().withRebrand23,U=Object(O.b)().rebrand23,z=Object(c.useQuery)(dt,{skip:"undefined"==typeof window,fetchPolicy:"no-cache"}),W=z.loading,P=z.data,H=M()(P,"currentUser.client.passedHours"),q=M()(P,"currentUser.client.isEnterprise"),Y=Boolean(M()(P,"currentUser.tutor.id")),K=Boolean(M()(P,"currentUser.client.id")),$=function(e){var t,a,n=Object(c.useQuery)(Q,{fetchPolicy:"cache-first"}).data,r=new URLSearchParams(location.search),o=r.has("referralMessageIndex"),l=o?parseInt(r.get("referralMessageIndex")||"0",10):0,u=(null==n||null===(t=n.referralBellStatus)||void 0===t?void 0:t.showReferralBellNotification)||o,d=e>=2||o,f=Object(i.useState)(o),m=Object(s.l)(f,2),g=m[0],b=m[1],v=Object(i.useState)(o),p=Object(s.l)(v,2),h=p[0],_=p[1],j=Object(i.useState)(l),y=Object(s.l)(j,2),M=y[0],w=y[1],O=null==n||null===(a=n.referralBellStatus)||void 0===a?void 0:a.referralMessageIndex;Object(i.useEffect)((function(){d&&(_(u),b(u),w(O))}),[d,u,O]);return{onActionClick:function(){b(!1),_(!1)},openByDefault:h,referralMessageIndex:M,showMessage:g}}(H),X=Object(i.useState)($.openByDefault),ee=Object(s.l)(X,2),ae=ee[0],ne=ee[1],ie=window.location.pathname.includes("lessons"),re=window.location.pathname.includes("/stand-with-ukraine"),oe=window.location.pathname.includes("/home"),le=ie||re||oe,ce=function(e){var t,a=Pe().lessonId,n=Object(Re.a)("".concat("homework_request_reminder","_").concat(a),!(null==e||!e.skip)||!a),i=n.isActive,r=n.loading,o=!(null==e||!e.skip)||!!i||r||!a,l=Object(c.useQuery)(ze,{skip:o}),u=l.data,d=l.loading,f=null==u||null===(t=u.homework)||void 0===t?void 0:t.askForHomework,m=Object(me.a)("exp_comms_request_homework_notification_ML",{skip:o||!f}),g=Object(s.l)(m,2),b=g[0],v=g[1];return o?{isActive:!1,isLoading:!1}:{isActive:b,isLoading:v||d||r}}({skip:!K}).isActive,ue=function(e){var t,a=Object(i.useState)(""),n=Object(s.l)(a,2),r=n[0],o=n[1],l=Object(i.useState)(""),u=Object(s.l)(l,2),d=u[0],f=u[1],m=Object(i.useState)(0),g=Object(s.l)(m,2),b=g[0],v=g[1],p=Object(i.useState)(0),h=Object(s.l)(p,2),_=h[0],j=h[1],y=Object(me.b)("exp_eng_achievements_mvp"),M=Object(s.l)(y,2),w=M[0],O=M[1],E=O.isActive,A=O.status,k=Object(c.useQuery)(te.d,{variables:{amongAllLessons:!0}}),x=k.data,T=k.loading,C=k.error,B=Object(c.useQuery)(te.e,{variables:{eventName:se(r)},skip:!r,fetchPolicy:"no-cache"}),I=B.data,N=B.loading,S=B.error,V=Object(c.useQuery)(te.b,{variables:{subjectAlias:r},fetchPolicy:"no-cache"}),L=V.data,D=V.loading,F=V.error,U=window.matchMedia("only screen and (max-width: 760px)").matches,z=Object(c.useMutation)(te.f),W=Object(s.l)(z,1)[0],P=!U&&"A1"===d&&!D,H=P&&!e,q=P&&e,G=Object(me.c)("enable_achievements_for_b2b",{skip:e}),Q=G.flagValue,J=G.loading;Object(i.useEffect)((function(){(C||F||S)&&R.a.withScope((function(e){e.setTag("Notifications","useCompetenciesMessage"),e.setLevel(ge.a.Critical),R.a.captureException("".concat(C,",").concat(F,", ").concat(S))}))}),[C,F,S]),Object(i.useEffect)((function(){H&&w()}),[H,w]),Object(i.useEffect)((function(){H&&E&&W({variables:{data:{subjectAlias:r,initialTutorId:b}}})}),[b,E,W,r,H]),Object(i.useEffect)((function(){q&&Q&&!J&&W({variables:{data:{subjectAlias:r,initialTutorId:b}}})}),[q,Q,J,W,r,b]),Object(i.useEffect)((function(){if(!r&&!T&&!U){var e,t,a,n,s,i,l,c,u,d,f,m,g,b,p,h,_,y,M,w,O,E,A,k,C=ve(null==x||null===(e=x.currentUser)||void 0===e||null===(t=e.nearestLesson)||void 0===t||null===(a=t.tutoring)||void 0===a||null===(n=a.lead)||void 0===n?void 0:n.subject),B=null==x||null===(s=x.currentUser)||void 0===s||null===(i=s.nearestLesson)||void 0===i||null===(l=i.tutoring)||void 0===l||null===(c=l.tutor)||void 0===c?void 0:c.id,I=null==x||null===(u=x.currentUser)||void 0===u||null===(d=u.nearestLesson)||void 0===d||null===(f=d.tutoring)||void 0===f?void 0:f.id;if(!C&&null!=x&&null!==(m=x.currentUser)&&void 0!==m&&m.lastLesson&&Math.abs(Object(be.e)(null==x||null===(g=x.currentUser)||void 0===g?void 0:g.lastLesson.datetime))<1296e6)C=ve(null==x||null===(b=x.currentUser)||void 0===b||null===(p=b.lastLesson)||void 0===p||null===(h=p.tutoring)||void 0===h||null===(_=h.lead)||void 0===_?void 0:_.subject),B=null==x||null===(y=x.currentUser)||void 0===y||null===(M=y.lastLesson)||void 0===M||null===(w=M.tutoring)||void 0===w||null===(O=w.tutor)||void 0===O?void 0:O.id,I=null==x||null===(E=x.currentUser)||void 0===E||null===(A=E.lastLesson)||void 0===A||null===(k=A.tutoring)||void 0===k?void 0:k.id;C&&B&&I&&(o(C),v(B),j(I))}}),[r,x,T,U]),Object(i.useEffect)((function(){r&&!D&&f((null==L?void 0:L.goalCurrentLevel)||"")}),[r,D,L]);var Y=!(null!=I&&null!==(t=I.gamificationEvent)&&void 0!==t&&t.occurred);return{subjectAlias:r,tutoringId:_,isActive:E&&!Y,loading:(T||D||N)&&"READY"!==A}}(q),he=ue.subjectAlias,_e=ue.tutoringId,je=ue.isActive,ye=function(){var e=Object(i.useState)(!1),t=Object(s.l)(e,2),a=t[0],n=t[1],r=Object(i.useState)(),o=Object(s.l)(r,2),l=o[0],u=o[1],d=Object(me.b)("exp_hackathon_preply_rewind"),f=Object(s.l)(d,1)[0],m=Object(c.useQuery)(Qe),g=m.data,b=m.loading;Object(i.useEffect)((function(){!localStorage.getItem("preply_rewind_announcement_last_shown_at")&&!b&&g&&g.checkUserHasRewind.isEligible&&(u(g.checkUserHasRewind.rewindId),f().then((function(e){return n(e)})))}),[f,g,b]);return{rewindId:l,handleRewindNotificationInteraction:function(){n(!1),localStorage.setItem("preply_rewind_announcement_last_shown_at",String(Date.now()))},isRewindNotificationActive:a}}(),Me=ye.rewindId,we=ye.isRewindNotificationActive,Oe=ye.handleRewindNotificationInteraction,Ee=function(){var e=Object(c.useQuery)(pe),t=e.data,a=e.loading,n=e.error,r=Object(me.b)("exp_eng_certificate_achieved_bell_notif"),o=Object(s.l)(r,1)[0],l=Object(me.c)("exp_eng_certificate_achieved_bell_notif"),u=l.loading,d=l.flagValue,f=Object(i.useState)([]),m=Object(s.l)(f,2),g=m[0],b=m[1];return Object(i.useEffect)((function(){n&&R.a.withScope((function(e){e.setTag("Notifications","useCertificateAchievementQuery"),e.setLevel(ge.a.Critical),R.a.captureException(n)}))}),[n]),Object(i.useEffect)((function(){t&&!a&&o()}),[t,a,o]),Object(i.useEffect)((function(){var e;d&&t&&null!==(e=t.allAchievementCertificates)&&void 0!==e&&e.length?b(t.allAchievementCertificates):b([])}),[d,t]),{isActive:!!d,achievements:g,loading:u||a}}(),Ae=Ee.isActive,ke=Ee.achievements,xe=null==P||null===(a=P.currentUser)||void 0===a||null===(n=a.client)||void 0===n||null===(l=n.lastConfirmedLesson)||void 0===l||null===(u=l.tutoring)||void 0===u||null===(y=u.lead)||void 0===y||null===(k=y.subject)||void 0===k?void 0:k.alias,Ce=function(e,t,a,n){var r,o,l,u,d,f="english"===n,m=Object(c.useQuery)(te.a,{skip:t||a||!f}),g=m.data,b=m.loading,v=Object(c.useQuery)(te.e,{variables:{eventName:tt(n||"")},fetchPolicy:"no-cache",skip:t||a||!f}),p=v.data,h=v.loading,_=Object(me.b)(et),j=Object(s.l)(_,1)[0],y=Object(me.c)(et,{skip:t||!f||a}),M=y.loading,w=y.flagValue,O=b||M||h,E=!(null!=g&&null!==(r=g.currentUser)&&void 0!==r&&null!==(o=r.client)&&void 0!==o&&o.persona)||rt.includes(null==g||null===(l=g.currentUser)||void 0===l||null===(u=l.client)||void 0===u?void 0:u.persona),A=!O&&f&&!t&&!a&&!(null==g||!g.showFormB2C2B)&&e>=5&&!(null!=p&&null!==(d=p.gamificationEvent)&&void 0!==d&&d.occurred)&&E;return[A&&w,O,Object(i.useCallback)((function(){A&&j()}),[j,A])]}((null==P||null===(T=P.currentUser)||void 0===T||null===(B=T.client)||void 0===B?void 0:B.passedHours)||0,q,Y,xe),Be=Object(s.l)(Ce,3),Ie=Be[0],Ne=Be[1],Se=Be[2],Ve=ot(q,Y,xe),Le=Object(s.l)(Ve,3),De=Le[0],Fe=Le[1],Ue=Le[2],We=Object(_.a)("bell_notifications_tutor_community_new_notifications").isActive,qe=Object(w.a)({skip:!Y||!L||!We}),Ke=qe.tutorCommunityNotificationCount,$e=qe.isTutorCommunityMessageViewed,Xe=qe.handleTutorCommunityMessageInteraction,at=qe.isTutorCommunityMessageLoading,nt=function(){var e=Object(i.useContext)(O.a).subscriptions,t=null==e?void 0:e.TopUpModal,a=Object(i.useState)(!1),n=Object(s.l)(a,2),r=n[0],o=n[1],l=Object(i.useState)(null),u=Object(s.l)(l,2),d=u[0],f=u[1],m=Object(i.useState)(!1),g=Object(s.l)(m,2),b=g[0],v=g[1],p=Object(c.useQuery)(Je).data;return Object(i.useEffect)((function(){var e,t;if(p&&(null==p||null===(e=p.currentUser)||void 0===e||null===(t=e.client)||void 0===t?void 0:t.subscriptionType)===fe.e.SubscribeToTutor){var a,n,s,i=((null==p||null===(a=p.currentUser)||void 0===a||null===(n=a.client)||void 0===n||null===(s=n.tutorings)||void 0===s?void 0:s.nodes)||[]).find((function(e){return(null==e?void 0:e.refill)&&e.refill.status===fe.c.Configured&&e.hours/e.refill.refillHours*100<=25})),r=localStorage.getItem("top_up_hours_notification_last_shown_at"),o=!1;if(r)o=Math.round((new Date).getTime()-new Date(Number(r)).getTime())/864e5<20;i&&!o&&(localStorage.setItem("top_up_hours_notification_last_shown_at",String(Date.now())),f(i.id),v(!0))}}),[p]),{isTopUpHoursNotificationActive:b,topUpTutoringId:d,TopUpModal:t,showTopUpModal:r,setShowTopUpModal:o}}(),st=nt.showTopUpModal,ct=nt.setShowTopUpModal,mt=nt.topUpTutoringId,gt=nt.TopUpModal,bt=nt.isTopUpHoursNotificationActive,vt=Ae&&ke.length>0,pt=Object(_.a)("exp_cro_crm_notification_centre_integration",void 0,!K),ht=pt.isActive,_t=pt.isLoading,jt=function(e){var t,a=Object(c.useQuery)(lt,{variables:{onlyUnread:!0},skip:e}).data;return{unreadNotificationsCount:null==a||null===(t=a.notifications)||void 0===t?void 0:t.length}}(!ht||!We).unreadNotificationsCount;Object(i.useEffect)((function(){le||ne($.openByDefault||je||we||bt||vt),ie&&Ie&&!De&&ne(!0)}),[le,$.openByDefault,vt,je,we,bt,ie,Ie,De]),Object(i.useEffect)((function(){Se()}),[Se]);var yt,Mt=ke.map((function(e){var t;return r.a.createElement(Te,Object(s.g)({key:"".concat(null==e||null===(t=e.subject)||void 0===t?void 0:t.alias,"-").concat(e.currentLevel)},Object(s.i)(Object(s.i)({},e),{},{toggleModal:function(){ne(!1)}})))})).filter(Boolean),wt=function(e){e?Object(p.E)("open"):Object(p.E)("close"),ne(e)},Ot=function(){var e,t,a=new CustomEvent("preply/close-chat",{cancelable:!0,bubbles:!0,detail:{type:"regular",isTutor:!(null==P||null===(e=P.currentUser)||void 0===e||null===(t=e.tutor)||void 0===t||!t.id)}});if(window.dispatchEvent(a),ht||We){var n=new CustomEvent("preply/toggle-notification-centre",{cancelable:!0,bubbles:!0});window.dispatchEvent(n)}else wt(!ae)},Et=!W&&P&&null!==(I=P.currentUser)&&void 0!==I&&null!==(N=I.client)&&void 0!==N&&N.unconfirmedLessons.nodes?x()(P.currentUser.client.unconfirmedLessons.nodes.filter((function(e){return"SCHEDULED_PAST"===(null==e?void 0:e.status)&&!e.hasIssue&&!e.autoConfirmation&&!e.rating}))):[],At=function(e){var t=Object(i.useState)(),a=Object(s.l)(t,2),n=a[0],r=a[1];Object(i.useEffect)((function(){var t=J.read();null!==t&&"CREATED"===t.status&&(r(t),e.openPopup());var a=localStorage.getItem("nav_kids_search_notification");if(a){var n={status:a,kidTagAliases:[],subjectAlias:"english",subjectsAknowledged:[]};r(n),e.openPopup(),J.store(n),J.remove("nav_kids_search_notification"),Object(p.v)("persistence_migrate")}}),[]);return{notificationState:n,createNotification:function(t){var a=J.read();if(null===a||a.subjectAlias!==t.subjectAlias&&!a.subjectsAknowledged.includes(t.subjectAlias)){var n={status:"CREATED",kidTagAliases:t.kidTagAliases,subjectAlias:t.subjectAlias,subjectsAknowledged:a?a.subjectsAknowledged:[]};r(n),J.store(n),e.openPopup()}else if("CREATED"===a.status){if(a.subjectAlias!==t.subjectAlias){var i=Object(s.i)(Object(s.i)({},a),{},{kidTagAliases:t.kidTagAliases,subjectAlias:t.subjectAlias});r(i),J.store(i)}e.openPopup()}},onActionClick:function(){var e=Object(s.i)(Object(s.i)({},n),{},{status:"ACKNOWLEDGED_SHOW_SURVEY",subjectsAknowledged:[].concat(Object(s.n)(n.subjectsAknowledged),[n.subjectAlias])});r(e),J.store(e)}}}({openPopup:function(){return wt(!0)}}),kt=At.notificationState&&"CREATED"===At.notificationState.status,xt=$.showMessage?1:0,Tt=ht||We?jt:Et.length+xt+(kt?1:0)+(ce?1:0)+(Ie?1:0)+(le&&je?1:0)+(le&&we?1:0)+(le&&bt?1:0)+(le&&vt?1:0);Object(i.useEffect)((function(){K&&Object(j.a)("exp_cro_crm_notification_centre_integration")}),[K]),Y&&(yt=We?Tt:!$e&&Ke?1:0),Object(i.useImperativeHandle)(t,(function(){return{createKidsSearchNotification:At.createNotification}}),[At.createNotification]);var Ct=ae&&!ht&&!_t&&!We;if(W||at||Ne||Fe)return null;var Bt=null==U?void 0:U.Bubble,It=null==U?void 0:U.BubbleOnIcon;return r.a.createElement("div",{className:d()(A.a.iconItem,"".concat("ignore-onclickoutside-notification"," ").concat(Ct?"active":""))},F&&Bt&&It?r.a.createElement(f.a,{onClick:Ot,dataset:{"qa-id":"header-notification-icon"},assistiveText:D(ut.notificationAssistiveText,Object(s.i)(Object(s.i)({},b.formatMessageAbTestValuesAlwaysAVersion),Object(s.i)(Object(s.i)({},b.formatMessageAbTestValuesAlwaysAVersion),b.formatMessageAbTestValuesAlwaysAVersion)))},r.a.createElement(It,{icon:r.a.createElement(m.a,{svg:g.a}),bubble:yt?r.a.createElement(Bt,{dataset:{"qa-id":"header-unread-notification-icon"},size:"small",label:yt,withBorder:!0}):null})):r.a.createElement(ft,{onClick:Ot,popupVisible:Ct,"data-qa-id":"header-notification-icon"},r.a.createElement("div",{className:A.a.bellIcon},r.a.createElement(v.a,{onClick:function(){ae?Object(p.m)(E.a.BellIcon,"close"):Object(p.m)(E.a.BellIcon,"open"),Object(p.B)({eventName:ae?"closed":"opened",numberNotificationsTypes:yt})}})),yt?r.a.createElement("div",{className:A.a.unreadCount,"data-qa-id":"header-unread-notification-icon"},yt):""),Boolean(Ct)&&r.a.createElement(C.a,Object(s.g)({lessons:Et,language:S,timezone:V,outsideClickIgnoreClass:"ignore-onclickoutside-notification"},{passedHours:H,onAction:Ot,handleClickOutside:Ot,isTutorNotificationBellActive:L,customSystemMessage:Y?[!$e&&Ke?r.a.createElement(Ze,{key:"tutor-community-message",language:S,handleTutorCommunityMessageInteraction:Xe}):null]:[$.showMessage?r.a.createElement(G,{language:S,key:"referral",onActionClick:$.onActionClick,referralMessageIndex:$.referralMessageIndex}):null,kt&&At.notificationState?r.a.createElement(Z,{key:"kids-search",language:S,subjectAlias:At.notificationState.subjectAlias,kidTagAliases:At.notificationState.kidTagAliases,onActionClick:At.onActionClick}):null,je?r.a.createElement(de,{key:"competencies-message",tutoringId:_e,subjectAlias:he,onClose:Ot}):null,we?r.a.createElement(Ge,{key:"preply-rewind-announcement",language:S,handleRewindNotificationInteraction:Oe,rewindId:Me}):null,Ie&&xe?r.a.createElement(it,{subjectAlias:xe,onClose:Ot,viewed:Ue,language:S}):null,bt?r.a.createElement(Ye,{key:"top-up-hours-notification",showTopUpModal:function(){return ct(!0)}}):null,ce?r.a.createElement(He,{language:S}):null].concat(Ae&&ke.length?Mt:null)})),Boolean(st)&&r.a.createElement(gt,{show:!0,entryPoint:"notification",tutoringId:Number(mt),initialStep:"HOURS_SELECTOR",onClose:function(){return ct(!1)}}))}))},2249:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return b}));var n=a(1010),s=a(1),i=a.n(s),r=a(113),o=a.n(r),l=a(897),c=a(1303),u=a(399);Object(u.a)(".styles_notificationItemBlock__1Uc7A {\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  flex: 1 0 100%;\n  padding: 16px;\n  background-color: #fff;\n  text-align: center;\n  z-index: 1;\n  pointer-events: all;\n  border-bottom: 1px solid #e3e5e6;\n}\n.styles_loader__1fCyt {\n  height: 100px;\n}\n.styles_itemContent__bjigp {\n  flex: 1 1 100%;\n  position: relative;\n  text-align: left;\n  line-height: 1.42857143;\n  white-space: pre-wrap;\n  display: flex;\n}\n.styles_itemText__sczB6 {\n  flex: 1 1 100%;\n}\n.styles_itemText__sczB6.styles_itemText__sczB6.styles_itemText__sczB6 {\n  color: #384047;\n}\n.styles_itemHeader__2myoz.styles_itemHeader__2myoz.styles_itemHeader__2myoz {\n  font-weight: 500;\n  padding-bottom: 8px;\n  color: #384047;\n}\n.styles_itemIconWrap__BO4sW {\n  position: relative;\n  float: left;\n  width: 40px;\n  height: 40px;\n  margin-right: 16px;\n  overflow: hidden;\n  flex: 0 0 auto;\n}\n.styles_itemActions__3pZz4 {\n  flex: 1 1 100%;\n  position: relative;\n  display: flex;\n  margin-top: 16px;\n  white-space: nowrap;\n}\n.styles_itemActions__3pZz4 > * {\n  flex: 1 1;\n}\n.styles_itemButton__ajk0x {\n  margin-left: 8px;\n}\n.styles_itemButtonPrimary__B7dRT {\n  margin-left: 0;\n}\n.styles_itemButtonPrimary__B7dRT:hover {\n  color: #fff;\n}\n");var d={notificationItemBlock:"styles_notificationItemBlock__1Uc7A",loader:"styles_loader__1fCyt",itemContent:"styles_itemContent__bjigp",itemText:"styles_itemText__sczB6",itemHeader:"styles_itemHeader__2myoz",itemIconWrap:"styles_itemIconWrap__BO4sW",itemActions:"styles_itemActions__3pZz4",itemButton:"styles_itemButton__ajk0x",itemButtonPrimary:"styles_itemButtonPrimary__B7dRT"},f=["className","href","variant","children","primary"],m=function(e){var t=e.children,a=e.loading;return i.a.createElement("div",{className:d.notificationItemBlock},a?i.a.createElement(l.a,{className:d.loader}):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:d.itemContent},t.icon&&i.a.createElement("div",{className:d.itemIconWrap},t.icon),i.a.createElement("div",{className:d.itemText},t.header&&i.a.createElement("div",{className:d.itemHeader},t.header),t.message)),i.a.createElement("div",{className:d.itemActions},t.primaryAction||null,t.secondaryAction||null)))},g=function(e){var t=e.className,a=e.href,s=e.variant,r=e.children,l=e.primary,u=Object(n.j)(e,f);return i.a.createElement(c.a,Object(n.g)({},u,{variant:s,href:a,className:o()(t,d.itemButton,Object(n.f)({},d.itemButtonPrimary,l))}),r)},b=function(e){return i.a.createElement(g,Object(n.g)({variant:e.primary?void 0:"outlined"},e))}},2793:function(e,t,a){"use strict";var n=a(399);Object(n.a)(".styles_notificationPopupWrapper__zI0w5 {\n  position: absolute;\n  display: flex;\n  top: 40px;\n  right: -52px;\n  min-height: 40px;\n  max-height: 80vh;\n  z-index: 10001;\n  flex-direction: column;\n  filter: drop-shadow(0 0 10px rgba(0, 0, 0, 0.3));\n  transform: translate3d(0, 0, 0);\n}\n.styles_notificationPopupWrapper__zI0w5:before {\n  position: absolute;\n  display: block;\n  content: '';\n  right: 50px;\n  bottom: 100%;\n  border: 8px solid transparent;\n  border-left-width: 12px;\n  border-right-width: 12px;\n  border-bottom-color: #fff;\n  filter: drop-shadow(0 0 10px rgba(0, 0, 0, 0.3));\n  z-index: -1;\n}\n.styles_notificationsList__1t7Ca {\n  flex-direction: column;\n  overflow-y: auto;\n  min-width: 266px;\n  border-radius: 8px;\n}\n@media screen and (max-width: 640px) {\n  .styles_notificationsList__1t7Ca {\n    margin-right: 16px;\n  }\n}\n.styles_emptyListMessage__299iG {\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  flex: 1 0 100%;\n  gap: 8px;\n  padding: 16px;\n  background-color: #fff;\n  text-align: center;\n  z-index: 1;\n  pointer-events: all;\n  border-bottom: 1px solid #e3e5e6;\n  border-radius: 8px;\n  white-space: nowrap;\n}\n.styles_emptyListMessage__299iG.styles_emptyListMessage__299iG.styles_emptyListMessage__299iG {\n  color: #384047;\n}\n.styles_notificationIconWrap__1rU0B {\n  position: relative;\n  display: flex;\n  align-items: center;\n}\n.styles_notificationIconWrapVisible__ukR8f svg path {\n  fill: #3bb3bd;\n  transition: fill 0.2s;\n}\n.styles_notificationIconWrapVisible__ukR8f svg:hover path {\n  fill: #3bb3bd;\n}\n"),t.a={notificationPopupWrapper:"styles_notificationPopupWrapper__zI0w5",notificationsList:"styles_notificationsList__1t7Ca",emptyListMessage:"styles_emptyListMessage__299iG",notificationIconWrap:"styles_notificationIconWrap__1rU0B",notificationIconWrapVisible:"styles_notificationIconWrapVisible__ukR8f"}},2797:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(1010),s=a(1),i=a.n(s),r=a(69),o=a(237),l=a(258),c=a(1041),u=a(1771),d=a(1241),f=a.n(d),m=a(2249),g=a(399);Object(g.a)(".styles_messageStrong__EAvDf {\n  font-weight: 500;\n}\n.styles_avatarImg__3qW6d {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  display: block;\n}\n");var b={messageStrong:"styles_messageStrong__EAvDf",avatarImg:"styles_avatarImg__3qW6d"},v=function(e){var t,a,i=e.language,o=e.lesson,c=e.timezone,u=e.onConfirm,d=e.onReport,f="ua"===i?"uk":i,g={month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZone:c,hour12:!1};return Object(s.createElement)(m.a,null,{icon:Object(s.createElement)("img",{className:b.avatarImg,src:null===(t=o.tutor.user)||void 0===t||null===(a=t.profile)||void 0===a?void 0:a.avatarUrl,alt:"Notification tutor","data-qa-group":"notification-tutor-ava-img"}),message:Object(s.createElement)("div",{"data-qa-group":"lesson-confirmation-msg"},Object(s.createElement)(r.FormattedMessage,{defaultMessage:"Did you complete a lesson with {fullName} on {date}?",values:Object(n.i)(Object(n.i)({},l.formattedMessageAbTestValues),{fullName:Object(s.createElement)("b",{className:b.messageStrong},o.tutor.fullName),date:Object(s.createElement)("b",{className:b.messageStrong},function(){try{return new Intl.DateTimeFormat(f,g).format(new Date(o.datetime))}catch(e){return new Date(o.datetime).toLocaleString(f)}}())}),id:'{"defaultMessage":"Did you complete a lesson with {fullName} on {date}?","description":""}'})),primaryAction:Object(s.createElement)(m.b,{primary:!0,href:"/".concat(i,"/lessons?trigger-reload=").concat(Date.now(),"#/rating/").concat(o.id),onClick:u,"data-qa-group":"notification-lesson-confirmation-btns"},Object(s.createElement)(r.FormattedMessage,{defaultMessage:"Confirm lesson",values:l.formattedMessageAbTestValues,id:'{"defaultMessage":"Confirm lesson","description":""}'})),secondaryAction:Object(s.createElement)(m.b,{href:"/".concat(i,"/lessons?trigger-reload=").concat(Date.now(),"#lesson/").concat(o.id,"/report"),onClick:d,"data-qa-group":"notification-lesson-report-btns"},Object(s.createElement)(r.FormattedMessage,{defaultMessage:"Report issue",values:l.formattedMessageAbTestValues,id:'{"defaultMessage":"Report issue","description":""}'}))})},p=a(2793),h=Object(u.a)((function(e){var t=e.lessons,a=e.language,s=e.timezone,u=e.customSystemMessage,d=e.onAction,m=e.isTutorNotificationBellActive,g=u.every((function(e){return null===e}));return i.a.createElement("div",{className:p.a.notificationPopupWrapper},i.a.createElement("div",{className:p.a.notificationsList},f()(t)&&g?i.a.createElement("div",{className:p.a.emptyListMessage,"data-qa-id":"nav-empty-notifications-list"},m?i.a.createElement(o.a,{variant:"small-semibold",accent:"secondary"},i.a.createElement(r.FormattedMessage,{id:"navigation.notification_bell.notifications.title",defaultMessage:"NOTIFICATIONS",values:l.formattedMessageAbTestValues})):null,i.a.createElement(o.a,{variant:"small-regular",accent:"secondary"},i.a.createElement(r.FormattedMessage,{defaultMessage:"There are no notifications for you",values:l.formattedMessageAbTestValues,id:'{"defaultMessage":"There are no notifications for you","description":""}'}))):t.map((function(e){return i.a.createElement(v,Object(n.g)({key:e.id},{language:a,lesson:e,timezone:s},{onConfirm:function(){d(),Object(c.g)()},onReport:function(){d(),Object(c.G)()}}))})),u))}))}}]);